<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>EPSD Colloquium Agenda</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; }
    #viewer { display:none; width:100%; height:90vh; border:1px solid #ddd; }
  </style>
</head>
<body>
  <h1>Agenda</h1>
  <div id="login">
    <p>Enter the password to view the PDF.<br>
      <em>Hint: our directorate acronym.</emem></p>
    <input id="pw" type="password" placeholder="Password" />
    <button id="ok">Open</button>
    <p id="msg" style="color:crimson"></p>
  </div>

  <!-- The PDF: place document.pdf in same repo -->
  <iframe id="viewer" src="agenda.pdf" width="100%" height="800"></iframe>

  <script>
  // SHA-256 hash of password 
  const allowedHash = "60d41c37cf3e1add2f90c27bd5ef60c6c1aa3edd207b841a2caaf3532e853fd0";

  async function sha256hex(str) {
    const bytes = new TextEncoder().encode(str);
    const hashBuffer = await crypto.subtle.digest('SHA-256', bytes);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2,'0')).join('');
  }

  document.getElementById('ok').onclick = async () => {
    const pw = document.getElementById('pw').value || "";
    const h = await sha256hex(pw);
    if (h === allowedHash) {
      document.getElementById('login').style.display = 'none';
      document.getElementById('viewer').style.display = 'block';
    } else {
      document.getElementById('msg').textContent = "Incorrect password";
    }
  }
  </script>
</body>
</html>


