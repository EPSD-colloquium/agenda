<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Protected PDF</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; }
    #viewer { display:none; width:100%; height:90vh; border:1px solid #ddd; }
  </style>
</head>
<body>
  <h1>Protected PDF</h1>

  <div id="login">
    <p>Enter password to view the PDF:</p>
    <input id="pw" type="password" placeholder="Password" />
    <button id="ok">Open</button>
    <p id="msg" style="color:crimson"></p>
  </div>

  <!-- The PDF: place document.pdf in same repo -->
  <iframe id="viewer" src="document.pdf" width="100%" height="800"></iframe>

  <script>
  // SHA-256 hash of password "s3cret" (example)
  const allowedHash = "1ec1c26b50d5d3c58d9583181af8076655fe00756bf7285940ba3670f99fcba0";

  async function sha256hex(str) {
    const bytes = new TextEncoder().encode(str);
    const hashBuffer = await crypto.subtle.digest('SHA-256', bytes);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2,'0')).join('');
  }

  document.getElementById('ok').onclick = async () => {
    const pw = document.getElementById('pw').value || "";
    const h = await sha256hex(pw);
    if (h === allowedHash) {
      document.getElementById('login').style.display = 'none';
      document.getElementById('viewer').style.display = 'block';
    } else {
      document.getElementById('msg').textContent = "Incorrect password";
    }
  }
  </script>
</body>
</html>


